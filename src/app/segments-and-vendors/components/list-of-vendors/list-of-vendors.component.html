<weds-header [authorizedUser]="isAuthed"></weds-header>

<div id="titlebar" class="gradient" style="margin-bottom: 24px;">
  <div class="container">
    <div class="row">
      <div class="col-md-12" [ngClass]="lang === 'ar' ? 'rtl' : ''">
        <h2>{{labels.VENDORS_TITLE}}</h2>
        <span>{{labels.VENDORS_SUBTITLE}}</span>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="main-search-input gray-style margin-top-0 margin-bottom-10" [ngClass]="lang === 'ar' ? 'rtl' : ''">

        <div class="main-search-input-item">
          <input type="text" placeholder="{{labels.SEARCH_KEY}}" value="" [(ngModel)]="searchKey" />
        </div>

        <div class="main-search-input-item">
          <select id="areas" data-placeholder="All Location" class="chosen-select">
            <option [selected]='true' disabled value="-1">{{labels.ALL_LOCATIONS}}</option>
            <option *ngFor="let area of allAreas" [value]="area._id">
              {{ lang==='en'? area.nameEn:area.nameAr}}
            </option>
          </select>
        </div>

        <button class="button" (click)="search()">{{labels.SEARCH}}</button>
        <button class="button" (click)="clearSearch()" style="background-color: red;">{{labels.RESET}}</button>
      </div>
    </div>
  </div>
</div>


<div class="container">
  <div class="row">

    <div class="col-lg-9 col-md-8 padding-right-30">

      <div class="row margin-bottom-25">

        <div class="col-md-6 col-xs-6">
          <div class="layout-switcher">
            <a href="#" class="grid active"><i class="fa fa-th"></i></a>
            <a href="listings-list-with-sidebar.html" class="list"><i class="fa fa-align-justify"></i></a>
          </div>
        </div>

        <div class="col-md-6 col-xs-6">
          <div class="sort-by">
            <a data-open-title="Categories" data-close-title="Categories" (click)="showCategories($event)"
              class="sort-by-select more-search-options-trigger " style="margin-top: 4px; cursor: pointer;"></a>
          </div>
        </div>
      </div>

      <div class="row">
        <div [@slideInOut]="isSearchExpanded ? 'in' : 'out'" class="fullwidth-carousel-container">
          <div class="fullwidth-slick-carousel category-carousel">
            <div>
              <ng-image-slider [images]="imageObject" [infinite]="true" [autoSlide]="3" slideImage="3"
                [imagePopup]="false" [imageSize]="{width: '150', height: 150}"
                (imageClick)="searchUsingCategory($event)">
              </ng-image-slider>
            </div>

            <!-- Items -->
            <div>
              <div class="row" *ngIf="categoriesList&& categoriesList.length > 0 ">

                <div class="col-lg-4 col-md-6 " *ngFor="let category of categoriesList | slice:skip:limit">

                  <a (click)="navigateToVendorsList(category.parentMenu,category._id)"
                    class="listing-item-container compact">
                    <div class="listing-item effect-image">
                      <img [src]="category.photo" alt="">
                      <div class="icon">
                        <img [src]="category.icon" class='iconImage' alt="">
                      </div>
                      <div class="overlay-text overlay-text-1">
                        <div class="overlay-text-desc">
                          <h4>{{lang==='ar'?category.nameAr:category.nameEn}}</h4>
                          <span>{{(lang==='ar'?category.descriptionAr:category.descriptionEn)}} </span>
                          <p><b>{{(lang==='ar'?category.subDescriptionAr:category.subDescriptionEn)}} </b></p>
                        </div>
                      </div>

                      <div class="listing-item-content">
                        <h3>{{lang==='ar'?category.nameAr:category.nameEn}} </h3>
                      </div>
                    </div>
                  </a>
                </div>

              </div>
            </div>

          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-lg-4 col-md-6" *ngFor="let vendor of searchableList | slice:skip:limit">
          <a (click)="navigateToVendor('vendor._id')" class="listing-item-container compact">
            <div class="listing-item">
              <img [src]="vendor.featuredImage" alt="">

              <!-- <div class="listing-badge now-open">Now Open</div> -->

              <div class="listing-item-content">
                <div class="numerical-rating" [attr.data-rating]="vendor.totalRank"></div>
                <h3>{{ lang == "en" ? vendor.nameEn : vendor.nameAr }}<i class="verified-icon"></i></h3>
                <span>{{vendor.location.typedAddress.split(",")[3] }},
                  {{vendor.location.typedAddress.split(",")[4]}}</span>
              </div>
              <span class="like-icon"></span>
            </div>
          </a>
        </div>
      </div>

      <div class="clearfix"></div>
      <div class="row" *ngIf="collectionSize > 0 && showPaging">
        <div class="col-md-12">
          <weds-paging (changePasge)="pageChange($event)" [pageSize]="pageSize" [collectionSize]="collectionSize"
            [maxSize]="5">
          </weds-paging>
        </div>
      </div>

    </div>
    <div class="col-lg-3 col-md-4 sticky">
      <div class="sidebar ">
        <div class="widget margin-bottom-40" style="margin-top: 17px;" [ngClass]="lang === 'ar' ? 'rtl' : ''">
          <h3 class="margin-top-0 margin-bottom-30">{{labels.PROMOTED_VENDORS}}</h3>

          <!-- Listing Item -->
          <div class="col-lg-12">
            <div class="slideshow-container" [ngClass]="lang === 'ar' ? 'ltr' : ''">

              <div class="mySlides fade" *ngFor="let vendor of promotedVendorList">
                <a (click)="navigateToVendor('vendor._id')" class="listing-item-container compact">
                  <div class="listing-item">
                    <img [src]="vendor.featuredImage" alt="">

                    <!-- <div class="listing-badge now-open">Now Open</div> -->

                    <div class="listing-item-content">
                      <div class="numerical-rating" [attr.data-rating]="vendor.totalRank"></div>
                      <h3>{{ lang == "en" ? vendor.nameEn : vendor.nameAr }}<i class="verified-icon"></i></h3>
                      <span>{{vendor.location.typedAddress.split(",")[3] }},
                        {{vendor.location.typedAddress.split(",")[4]}}</span>
                    </div>
                    <span class="like-icon"></span>
                  </div>
                </a>
              </div>

              <div *ngIf="promotedVendorList.length >1">
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
              </div>

            </div>

            <div style="text-align:center">
              <span class="dot" onclick="currentSlide(1)"></span>
              <span class="dot" onclick="currentSlide(2)"></span>
              <span class="dot" onclick="currentSlide(3)"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<weds-footer></weds-footer>